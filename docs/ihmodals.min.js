!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).IHModals=e()}(function(){return function i(s,l,a){function c(t,e){if(!l[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var r=l[t]={exports:{}};s[t][0].call(r.exports,function(e){return c(s[t][1][e]||e)},r,r.exports,i,s,l,a)}return l[t].exports}for(var u="function"==typeof require&&require,e=0;e<a.length;e++)c(a[e]);return c}({1:[function(e,t,n){"use strict";function i(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r,i=!0,s=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return i=e.done,e},e:function(e){s=!0,r=e},f:function(){try{i||null==o.return||o.return()}finally{if(s)throw r}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function o(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function r(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;function a(){}var c=["A","INPUT","BUTTON","SELECT","TEXTAREA"],u={overflow:"hidden","touch-action":"none","-ms-touch-action":"none"},f={overflow:"","touch-action":"","-ms-touch-action":""},d={className:"modal--open",closeOnBackgroundClick:!0,disableBackgroundListening:!1,onOpenCallback:a,onCloseCallback:a},h=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._element=e,this._options=r(r({},d),t),this._open=!1,this._openEventHandlers=[this._options.onOpenCallback],this._closeEventHandler=[this._options.onCloseCallback],this._element.setAttribute("aria-modal","true"),this._element.setAttribute("aria-hidden","true"),this._element.getAttribute("role")||this._element.setAttribute("role","dialog"),this._keyDownEventHandler=this._onKeydown.bind(this),this._clickEventHandler=this._checkOutsideClick.bind(this)}var e,t,o;return e=n,(t=[{key:"_isFocusable",value:function(e){return 0<e.tabIndex||0===e.tabIndex&&null!==e.getAttribute("tabindex")||!e.disabled&&c.includes(e.nodeName)}},{key:"_onKeydown",value:function(e){if("Escape"===e.code&&this._options.closeOnBackgroundClick&&this.close(),"Tab"===e.code){var t=this._getElementFocusableChildren(this._element),n=t.indexOf(document.activeElement);if(!e.shiftKey&&(n===t.length-1||-1===n))return t[0].focus(),void e.preventDefault();e.shiftKey&&0===n&&(t[t.length-1].focus(),e.preventDefault())}}},{key:"_checkOutsideClick",value:function(e){for(var t=e.target;t!==this._element&&t.parentNode;)t=t.parentNode;t!==this._element&&(this._options.closeOnBackgroundClick&&this.close(),e.preventDefault(),e.stopPropagation())}},{key:"_getElementFocusableChildren",value:function(e){var t,n=[],o=i(e.children);try{for(o.s();!(t=o.n()).done;){var r=t.value;this._isFocusable(r)&&n.push(r),r.children.length&&(n=n.concat(this._getElementFocusableChildren(r)))}}catch(e){o.e(e)}finally{o.f()}return n}},{key:"open",value:function(){this._open||(this._open=!0,this._setOpenClass(),this._element.setAttribute("aria-hidden","false"),document.addEventListener("keydown",this._keyDownEventHandler,{capture:!0}),this._options.disableBackgroundListening||document.addEventListener("click",this._clickEventHandler,{capture:!0}),Object.assign(document.body.style,u),this._focusFirstChild(),this._openEventHandlers.forEach(function(e){e()}))}},{key:"_setOpenClass",value:function(){var e=this;this._element.style.setProperty("display","block"),setTimeout(function(){e._element.style.removeProperty("display"),e._element.classList.add(e._options.className)})}},{key:"_removeOpenClass",value:function(){var e=this;this._element.style.setProperty("display","block"),this._element.classList.remove(this._options.className),this._element.addEventListener("transitionend",function(){e._element.style.removeProperty("display")},{once:!0})}},{key:"_focusFirstChild",value:function(){var t=this;setTimeout(function(){var e=t._getElementFocusableChildren(t._element);e.length&&e[0].focus()},100)}},{key:"close",value:function(){this._open&&(this._open=!1,this._removeOpenClass(),this._element.setAttribute("aria-hidden","true"),document.removeEventListener("keydown",this._keyDownEventHandler,{capture:!0}),document.removeEventListener("click",this._clickEventHandler,{capture:!0}),Object.assign(document.body.style,f),this._closeEventHandler.forEach(function(e){e()}))}},{key:"isOpen",value:function(){return this._open}},{key:"_removeFromArray",value:function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},{key:"onOpen",value:function(e){this._openEventHandlers.push(e)}},{key:"offOpen",value:function(e){this._removeFromArray(this._openEventHandlers,e)}},{key:"onOpenOnce",value:function(t){var n=this;this.onOpen(function e(){n.offOpen(e),t()})}},{key:"onClose",value:function(e){this._closeEventHandler.push(e)}},{key:"offClose",value:function(e){this._removeFromArray(this._closeEventHandler,e)}},{key:"onCloseOnce",value:function(t){var n=this;this.onClose(function e(){n.offClose(e),t()})}}])&&s(e.prototype,t),o&&s(e,o),n}();n.default=h,t.exports=n.default},{}]},{},[1])(1)});