<!DOCTYPE html>
<html>

<head>
    <title>IHModals</title>
    <link href="docs.css" rel="stylesheet">
    <link href="ihmodals.css" rel="stylesheet">
</head>

<body>

<div class="content">

    <section>

        <h1>IHModals</h1>

        <p>Simple lightweight, accessible, fully tested modal library.</p>

        <a class="content__github-link" href="https://github.com/makeus/ihmodals">Github</a>

        <button class="button button--marginless" onclick="openModal(event)">Demo</button>

        <div class="modal" id="modal" aria-labelledby="modal-title" aria-describedby="modal-description">
            <h2 id="modal-title">Test</h2>

            <p id="modal-description">This is a test modal. </p>

            <button class="button" onclick="closeModals()">Close modal</button>

            <button class="modal__close" aria-label="Close" onclick="closeModals()">
                &#10005;
            </button>
        </div>
    </section>

    <hr>

    <section>

        <h2>Accessibility support</h2>

        <p>
            This library is in support of of the <a href="https://www.w3.org/TR/wai-aria-practices/#dialog_modal" rel="noopener">WAI-ARIA
            guidelines</a>. Proper attributes are applied and focus is kept inside the modal.
        </p>

        <button class="button button--marginless" onclick="openInputModal(event)">Examle modal with inputs</button>

        <div class="modal" id="modal2" aria-labelledby="modal2-title" aria-describedby="modal2-description">
            <h2 id="modal2-title">Test with inputs</h2>

            <p id="modal2-description">
                This is a test modal including inputs to demonstrate focusing inside. Closing of
                modal by clicking the background is also prevented.
            </p>

            <label for="name">Name</label>
            <input name="name" id="name" type="text">

            <label for="email">Email</label>
            <input name="name" id="email" type="email">

            <button class="button" onclick="closeModals()">Submit</button>
        </div>

    </section>

    <hr>

    <section>
        <h2>Usage</h2>
        <p>
            IHModals is designed to give good control to the developer by implementing nothing but the essentials. To
            get
            started, create a modal element.
        </p>
        <pre><code class="html">&lt;div class=&quot;modal&quot; role=&quot;dialog&quot; aria-modal=&quot;true&quot; aria-labelledby=&quot;title&quot; aria-describedby=&quot;description&quot;&gt;
    &lt;h2 id=&quot;title&quot;&gt;Test&lt;/h2&gt;

    &lt;p id=&quot;description&quot;&gt;This is a test modal. &lt;/p&gt;

    &lt;button class=&quot;modal__close&quot; aria-label=&quot;Close&quot; onclick=&quot;closeModal()&quot;&gt;
        &amp;#10005;
    &lt;/button&gt;
&lt;/div&gt;</code></pre>
        <p>The library sets basic attributes (<code>role</code>, <code>aria-modal</code>) required for a accessible
            modal when missing, but including them yourself and additional properties such as <code>aria-labelledby</code> and
            <code>aria-describedby</code> pointing to modal title and description is recommended.</p>

        <p>To initialize the modal with javasript</p>

        <pre><code class="javascript">import IHModals from &quot;ihmodals&quot;;

const modal = new IHModals(document.querySelector('.modal'), {closeOnBackgroundClick: true});

function openModal(event) {
    modal.open();
    modal.onCloseOnce(() =&gt; {
        event.target.focus()
    });
}</code></pre>
        <p>It is recommended to return focus to the element that triggered the modal opening.</p>

        <p>Basic styling is <a href="https://github.com/makeus/ihmodals/blob/master/dist/ihmodals.css">provided</a> with the library. For more detailed api, check the <a href="https://makeus.github.io/ihmodals/api">documentation.</a></p>

    </section>

    <hr>

    <section>

        <h2>Api</h2>

        <a href="https://makeus.github.io/ihmodals/api">Api</a> provides possible options and methods in the IHModals class.

    </section>
</div>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/solarized-dark.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="ihmodals.min.js"></script>
<script>
    const modal = new IHModals(document.querySelector('#modal'), {closeOnBackgroundClick: true});
    const modal2 = new IHModals(document.querySelector('#modal2'), {closeOnBackgroundClick: false});

    function openModal(event) {
        modal.open();
        modal.onCloseOnce(() => {
            event.target.focus();
        });
    }

    function openInputModal(event) {
        modal2.open();
        modal2.onCloseOnce(() => {
            event.target.focus();
        });
    }

    function closeModals() {
        modal.close();
        modal2.close();
    }
</script>
</body>

</html>