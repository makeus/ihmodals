!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).IHModals=e()}}(function(){return function r(s,l,c){function a(t,e){if(!l[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var i=l[t]={exports:{}};s[t][0].call(i.exports,function(e){return a(s[t][1][e]||e)},i,i.exports,r,s,l,c)}return l[t].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)a(c[e]);return a}({1:[function(e,t,n){"use strict";function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;function o(){}var l=["A","INPUT","BUTTON","SELECT","TEXTAREA"],c={overflow:"hidden","touch-action":"none","-ms-touch-action":"none"},a={overflow:"","touch-action":"","-ms-touch-action":""},u={className:"modal--open",closeOnBackgroundClick:!0,onOpenCallback:o,onCloseCallback:o},f=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._element=e,this._options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){r(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},u,{},t),this._open=!1,this._openEventHandlers=[this._options.onOpenCallback],this._closeEventHandler=[this._options.onCloseCallback],this._element.setAttribute("aria-modal","true"),this._element.getAttribute("role")||this._element.setAttribute("role","dialog"),this._keyDownEventHandler=this._onKeydown.bind(this),this._clickEventHandler=this._checkOutsideClick.bind(this),this._focusEventHandler=this._onFocus.bind(this)}var e,t,o;return e=n,(t=[{key:"_isFocusable",value:function(e){return 0<e.tabIndex||0===e.tabIndex&&null!==e.getAttribute("tabindex")||!e.disabled&&l.includes(e.nodeName)}},{key:"_onKeydown",value:function(e){"Escape"===e.code&&this._options.closeOnBackgroundClick&&this.close()}},{key:"_checkOutsideClick",value:function(e){for(var t=e.target;t!==this._element&&t.parentNode;)t=t.parentNode;t!==this._element&&(this._options.closeOnBackgroundClick?this.close():(e.preventDefault(),e.stopPropagation()))}},{key:"_getElementFocusableChildren",value:function(e){var t=[],n=!0,o=!1,i=void 0;try{for(var r,s=e.children[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var l=r.value;this._isFocusable(l)&&t.push(l),l.children.length&&(t=t.concat(this._getElementFocusableChildren(l)))}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return t}},{key:"_onFocus",value:function(e){var t=this._getElementFocusableChildren(this._element),n=t.indexOf(e.target);n!==t.length-1&&-1!==n||t[0].focus()}},{key:"open",value:function(){this._open=!0,this._element.classList.add(this._options.className),document.addEventListener("keydown",this._keyDownEventHandler),document.addEventListener("click",this._clickEventHandler,{capture:!0});var e=this._getElementFocusableChildren(this._element);e.length&&(e[0].focus(),document.addEventListener("focusout",this._focusEventHandler,{capture:!0})),Object.assign(document.body.style,c),this._openEventHandlers.forEach(function(e){e()})}},{key:"close",value:function(){this._open=!1,this._element.classList.remove(this._options.className),document.removeEventListener("keydown",this._keyDownEventHandler),document.removeEventListener("click",this._clickEventHandler,{capture:!0}),document.removeEventListener("focusout",this._focusEventHandler,{capture:!0}),Object.assign(document.body.style,a),this._closeEventHandler.forEach(function(e){e()})}},{key:"isOpen",value:function(){return this._open}},{key:"_removeFromArray",value:function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},{key:"onOpen",value:function(e){this._openEventHandlers.push(e)}},{key:"offOpen",value:function(e){this._removeFromArray(this._openEventHandlers,e)}},{key:"onOpenOnce",value:function(t){var n=this;this.onOpen(function e(){n.offOpen(e),t()})}},{key:"onClose",value:function(e){this._closeEventHandler.push(e)}},{key:"offClose",value:function(e){this._removeFromArray(this._closeEventHandler,e)}},{key:"onCloseOnce",value:function(t){var n=this;this.onClose(function e(){n.offClose(e),t()})}}])&&s(e.prototype,t),o&&s(e,o),n}();n.default=f,t.exports=n.default},{}]},{},[1])(1)});